## チューニング

この章では、OpenAMの動作をスムーズにし、応答時間を最小限に抑えつつ、スループットを最大化するための、キーとなるチューニング項目について説明します。

> **注意:**  
> ここで提供される推奨事項が、すべての状況で正しい設定ではないということに注意して下さい。

パフォーマンスチューニングのアドバイスが適用される範囲は、システム要件、ワークロード、どの程度のリソースが利用可能であるかに大きく依存します。本番環境にOpenAMをデプロイする前に十分なテストを行って下さい。

この章の提案は、次の特性を持つOpenAMの配備に関連します:

- OpenAMサーバーを実行しているホストが、大量のメモリを持っている。
- コアトークンサービス専用のOpenDJを配備できる。OpenDJを実行しているホストは、大容量のメモリと、複数のCPUを搭載するハイエンドサーバーである。
- OpenAMサーバーはステートフルセッションを使用するように設定されている。

これまでの経験則から、本番環境においてステートフルセッションを使用するように構成された3GBのヒープのOpenAMサーバーであれば、10万セッションを処理することができます。64ビットJVMで大規模なヒープを使用した方がいいと考えるかもしれませんが、小さいヒープの方が管理が容易です。このように、同時セッション数の合計を増やすためには、単一のサーバーをスケールアップするよりも、むしろ、より多くのサーバーを追加することにより、スケールアウトする方がいいです。
