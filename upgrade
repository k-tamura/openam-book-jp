OpenAMのアップグレードはとても簡単です。ただし、バージョンの組み合わせによっては、アップグレードがうまくできなかったり、手作業で一部の設定を変更しなければならないこともあります。アップグレードする前に、対象バージョンのForgeRock公式ドキュメントを参照し、追加の手順や制限事項などが無いか確認しておいて下さい。

アップグレードの概要
アップグレード手順は簡単にいうと、以下のようになります。

1. Javaコンテナを停止
2. warファイルを更新し、展開済みのディレクトリを削除
3. Javaコンテナを起動
4. OpenAMにアクセスすると、アップグレード画面が表示されるので、アップグレードを実施
　ただし、アップグレードに失敗したり、アップグレード後の動作に問題がある可能性もあるので、バックアップを取得しておくことをお勧めします。バックアップするのは以下のディレクトリになります。

/path/to/tomcat/webapps/openam/  (openam.warが展開されたディレクトリ)
~/openam/  (OpenAMの設定ディレクトリ)
~/.openamcfg/  (OpenAMの設定ディレクトリへのパスが記載されたファイルを含むディレクトリ)
　バックアップの際に、Tomcatのworkディレクトリ以下も削除しておいて下さい。アップグレード前に生成されたクラスファイルなどが原因で、異常な動作する可能性があります。また、カスタマイズしたファイルなどがある場合は、アップグレード後にそれを適宜反映することを忘れないで下さい。

